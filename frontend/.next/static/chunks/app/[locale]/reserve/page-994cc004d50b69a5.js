(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[954],{1886:(e,r,t)=>{"use strict";t.d(r,{Nl:()=>o,hD:()=>a,p4:()=>n});let s=t(9509).env.NEXT_PUBLIC_API_URL||"http://localhost:8000";class a extends Error{constructor(e,r){super(r),this.status=e,this.name="ApiError"}}async function i(e,r){let t="".concat(s).concat(e),i=await fetch(t,{headers:{"Content-Type":"application/json",...null==r?void 0:r.headers},...r});if(!i.ok)throw new a(i.status,"API Error: ".concat(i.statusText));return i.json()}let n={getTables:()=>i("/tables"),createTable:e=>i("/tables",{method:"POST",body:JSON.stringify(e)}),createTablesBulk:e=>i("/tables/bulk",{method:"POST",body:JSON.stringify({tables:e})}),updateTable:(e,r)=>i("/tables/".concat(e),{method:"PUT",body:JSON.stringify(r)}),deleteTable:e=>i("/tables/".concat(e),{method:"DELETE"}),getOnboardingStatus:()=>i("/onboarding/status"),completeOnboarding:()=>i("/onboarding/complete",{method:"POST"})},o={createReservation:e=>i("/reservations",{method:"POST",body:JSON.stringify(e)})}},2350:(e,r,t)=>{Promise.resolve().then(t.bind(t,8850)),Promise.resolve().then(t.bind(t,6096))},2714:(e,r,t)=>{"use strict";t.d(r,{J:()=>n});var s=t(5155);t(2115);var a=t(968),i=t(3999);function n(e){let{className:r,...t}=e;return(0,s.jsx)(a.b,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...t})}},3999:(e,r,t)=>{"use strict";t.d(r,{cn:()=>i});var s=t(2596),a=t(9688);function i(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,s.$)(r))}},7168:(e,r,t)=>{"use strict";t.d(r,{$:()=>c,r:()=>o});var s=t(5155);t(2115);var a=t(9708),i=t(2085),n=t(3999);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:r,variant:t,size:i,asChild:c=!1,...l}=e,d=c?a.DX:"button";return(0,s.jsx)(d,{"data-slot":"button",className:(0,n.cn)(o({variant:t,size:i,className:r})),...l})}},8850:(e,r,t)=>{"use strict";t.d(r,{ReservationForm:()=>g});var s=t(5155),a=t(2115),i=t(2177),n=t(8778),o=t(7652),c=t(1153);c.z.object({name:c.z.string().min(1,"nameRequired").max(100),capacity:c.z.number().min(1,"capacityMin").max(50),location:c.z.string().optional().or(c.z.literal("")),status:c.z.enum(["available","maintenance","reserved"])}),c.z.object({tableCount:c.z.number().min(1).max(100)});let l=c.z.object({customer_name:c.z.string().min(2,"nameMinLength").max(200,"nameMaxLength"),customer_email:c.z.string().email("invalidEmail").optional().or(c.z.literal("")),customer_phone:c.z.string().min(10,"phoneMinLength").max(20,"phoneMaxLength").optional().or(c.z.literal("")),reservation_date:c.z.string().min(1,"dateRequired"),reservation_time:c.z.string().min(1,"timeRequired"),party_size:c.z.number().min(1,"partySizeMin").max(20,"partySizeMax"),special_requests:c.z.string().max(500,"specialRequestsMaxLength").optional().or(c.z.literal(""))}).refine(e=>e.customer_email||e.customer_phone,{message:"contactRequired",path:["customer_email"]});var d=t(1886),m=t(7168),u=t(9852),p=t(2714),h=t(646),x=t(4861);function b(e){let{type:r,title:t,message:a,onReset:i}=e,n=(0,o.c3)("Reservation"),c="success"===r;return(0,s.jsxs)("div",{className:"rounded-lg p-6 text-center ".concat(c?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:c?(0,s.jsx)(h.A,{className:"h-12 w-12 text-green-600"}):(0,s.jsx)(x.A,{className:"h-12 w-12 text-red-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2 ".concat(c?"text-green-800":"text-red-800"),children:t}),(0,s.jsx)("p",{className:"mb-6 ".concat(c?"text-green-700":"text-red-700"),children:a}),c&&i&&(0,s.jsx)(m.$,{onClick:i,variant:"outline",className:"border-green-300 text-green-700 hover:bg-green-100",children:n("status.makeAnother")})]})}function g(){let e=(0,o.c3)("Reservation"),[r,t]=(0,a.useState)("idle"),[c,h]=(0,a.useState)(""),{register:x,handleSubmit:g,formState:{errors:v,isValid:f},reset:y}=(0,i.mN)({resolver:(0,n.u)(l),mode:"onChange"}),j=async r=>{try{t("submitting"),h("");let s=await d.Nl.createReservation(r);s.success?(t("success"),y()):(t("error"),h(s.error||e("status.serverError")))}catch(r){t("error"),r instanceof d.hD&&409===r.status?h(e("status.noTablesAvailable")):h(e("status.serverError"))}};return"success"===r?(0,s.jsx)(b,{type:"success",title:e("status.success"),message:e("status.successMessage"),onReset:()=>t("idle")}):(0,s.jsxs)("form",{onSubmit:g(j),className:"space-y-8",children:["error"===r&&(0,s.jsx)(b,{type:"error",title:e("status.error"),message:c}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"border-b border-gray-200 pb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e("form.contactInfo")}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e("form.contactInfoDescription")})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(p.J,{htmlFor:"customer_name",children:e("form.customerName")}),(0,s.jsx)(u.p,{id:"customer_name",type:"text",placeholder:e("form.customerNamePlaceholder"),...x("customer_name"),className:v.customer_name?"border-red-500":""}),v.customer_name&&(0,s.jsx)("p",{className:"text-sm text-red-600 mt-1",children:e("validation.".concat(v.customer_name.message))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(p.J,{htmlFor:"customer_email",children:e("form.customerEmail")}),(0,s.jsx)(u.p,{id:"customer_email",type:"email",placeholder:e("form.customerEmailPlaceholder"),...x("customer_email"),className:v.customer_email?"border-red-500":""}),v.customer_email&&(0,s.jsx)("p",{className:"text-sm text-red-600 mt-1",children:e("validation.".concat(v.customer_email.message))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(p.J,{htmlFor:"customer_phone",children:e("form.customerPhone")}),(0,s.jsx)(u.p,{id:"customer_phone",type:"tel",placeholder:e("form.customerPhonePlaceholder"),...x("customer_phone"),className:v.customer_phone?"border-red-500":""}),v.customer_phone&&(0,s.jsx)("p",{className:"text-sm text-red-600 mt-1",children:e("validation.".concat(v.customer_phone.message))})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"border-b border-gray-200 pb-4",children:(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e("form.dateTimeInfo")})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(p.J,{htmlFor:"reservation_date",children:e("form.reservationDate")}),(0,s.jsx)(u.p,{id:"reservation_date",type:"date",min:new Date().toISOString().split("T")[0],...x("reservation_date"),className:v.reservation_date?"border-red-500":""}),v.reservation_date&&(0,s.jsx)("p",{className:"text-sm text-red-600 mt-1",children:e("validation.".concat(v.reservation_date.message))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(p.J,{htmlFor:"reservation_time",children:e("form.reservationTime")}),(0,s.jsx)(u.p,{id:"reservation_time",type:"time",...x("reservation_time"),className:v.reservation_time?"border-red-500":""}),v.reservation_time&&(0,s.jsx)("p",{className:"text-sm text-red-600 mt-1",children:e("validation.".concat(v.reservation_time.message))})]})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"border-b border-gray-200 pb-4",children:(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e("form.partyInfo")})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(p.J,{htmlFor:"party_size",children:e("form.partySize")}),(0,s.jsx)(u.p,{id:"party_size",type:"number",min:"1",max:"20",placeholder:e("form.partySizePlaceholder"),...x("party_size",{valueAsNumber:!0}),className:v.party_size?"border-red-500":""}),v.party_size&&(0,s.jsx)("p",{className:"text-sm text-red-600 mt-1",children:e("validation.".concat(v.party_size.message))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(p.J,{htmlFor:"special_requests",children:e("form.specialRequests")}),(0,s.jsx)("textarea",{id:"special_requests",rows:4,placeholder:e("form.specialRequestsPlaceholder"),...x("special_requests"),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none ".concat(v.special_requests?"border-red-500":"border-gray-300")}),v.special_requests&&(0,s.jsx)("p",{className:"text-sm text-red-600 mt-1",children:e("validation.".concat(v.special_requests.message))})]})]})]}),(0,s.jsx)("div",{className:"pt-6",children:(0,s.jsx)(m.$,{type:"submit",disabled:"submitting"===r||!f,className:"w-full",children:"submitting"===r?e("form.submitting"):e("form.submitButton")})})]})}},9852:(e,r,t)=>{"use strict";t.d(r,{p:()=>i});var s=t(5155);t(2115);var a=t(3999);function i(e){let{className:r,type:t,...i}=e;return(0,s.jsx)("input",{type:t,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...i})}}},e=>{var r=r=>e(e.s=r);e.O(0,[96,455,45,441,684,358],()=>r(2350)),_N_E=e.O()}]);